# --- Environment Variables Configuration ---
# This file shows example values. Copy to .env and fill with actual values.

# ============================================================================
# CRITICAL SECURITY: JWT Authentication (CRITICAL-001)
# ============================================================================
# Supabase JWT Secret for token verification
# REQUIRED: Minimum 32 characters for security
# Generate with: openssl rand -hex 32
SUPABASE_JWT_SECRET=your-super-secret-jwt-key-min-32-chars-recommended-64

# ============================================================================
# DATABASE Configuration
# ============================================================================
# PostgreSQL connection string
# PRODUCTION: Must use SSL (sslmode=require)
DATABASE_URL=postgresql://user:password@localhost:5432/vaptiq?schema=public&sslmode=require

# ============================================================================
# REDIS Configuration  
# ============================================================================
# Redis connection for Celery task queue
# PRODUCTION: Must use password and TLS
REDIS_URL=redis://:your-redis-password@localhost:6379/0

# ============================================================================
# LLM Provider Configuration
# ============================================================================
# Choose your LLM provider: OPENROUTER, GEMINI, or KIMI
LLM_PROVIDER=OPENROUTER

# OpenRouter API Key (for GPT-4/Claude access)
OPENROUTER_API_KEY=sk-or-v1-your-key-here-DO-NOT-COMMIT

# Google Gemini API Key
GEMINI_API_KEY=your-gemini-key-DO-NOT-COMMIT

# Kimi (Moonshot) API Key
KIMI_API_KEY=your-kimi-key-DO-NOT-COMMIT

# ============================================================================
# E2B Sandbox Configuration
# ============================================================================
# E2B API Key for secure code execution
# Get your free key at: https://e2b.dev  
E2B_API_KEY=e2b_your-key-here-DO-NOT-COMMIT

# ============================================================================
# SECURITY: HTTPS & CORS Configuration (HIGH-005)
# ============================================================================
# Environment: development or production
# Production enforces HTTPS, stricter security
ENVIRONMENT=development

# Allowed CORS origins (comma-separated)
# PRODUCTION: Must use HTTPS URLs only
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================================
# DATA ENCRYPTION (MEDIUM-012)
# ============================================================================
# Key for encrypting sensitive data (PII, credentials)
# Generate with: openssl rand -base64 32
DATA_ENCRYPTION_KEY=your-encryption-key-here-DO-NOT-COMMIT

# DB
DATABASE_URL="postgresql://postgres:pass@db.supabase.co:5432/postgres"

# Sandbox
E2B_API_KEY="e2b_..."
# ============================================================================
# MONITORING & LOGGING
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Audit log file path
AUDIT_LOG_FILE=audit.log

# ============================================================================
# RATE LIMITING (HIGH-014)
# ============================================================================
# Maximum requests per minute per user
RATE_LIMIT_PER_MINUTE=60

# Maximum concurrent scans per user
MAX_CONCURRENT_SCANS=5

# ============================================================================
# IMPORTANT SECURITY NOTES
# ============================================================================
# 1. NEVER commit this file with real secrets to git
# 2. Use different secrets for dev/staging/production
# 3. Rotate secrets regularly (every 90 days minimum)
# 4. Use a secrets manager in production (AWS Secrets Manager, HashiCorp Vault)
# 5. Validate all environment variables at application startup
